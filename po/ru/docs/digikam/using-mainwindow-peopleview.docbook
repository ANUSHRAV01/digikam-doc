<sect2 id="using-mainwindow-peopleview">
    <title
>Режим просмотра «Люди»</title>

    <para
>Функции режима просмотра «Люди» могут быть очень полезны тем, кто фотографирует не только машины, звёзды или что-то подобное. В &digikam; этот режим имеет две задачи: определение лиц и распознавание лиц. </para>

    <sect3
> <title
>Определение лиц</title>

        <para
>Первый шаг — это настроить &digikam; так, чтобы лица на фотографиях распознавались ещё до определения личности изображённого человека. Чтобы это настроить, нажмите кнопку <guilabel
>Найти лица в коллекции...</guilabel
>, которая откроет диалоговое окно поиска лиц. Прямо под заголовком расположен раскрывающийся список с выбором таких вариантов, как <itemizedlist>
                <listitem>
                    <para
>Пропустить уже обработанные изображения</para>
                </listitem>
                <listitem>
                    <para
>Обработать снова и объединить результаты</para>
                </listitem>
                <listitem>
                    <para
>Удалить неподтверждённые результаты и обработать заново</para>
                </listitem>
            </itemizedlist>
        </para>

        <para
>Первый вариант следует выбирать, если сканирование лиц ещё не производилось, были добавлены новые фотографии или были улучшены условия поиска, например, удалены неправильно присвоенные метки лиц. Второй вариант — если требуется, чтобы уже обработанные изображения были включены в следующую обработку. Третий вариант больше относится к функции распознавания лиц, так как метка <quote
>Неизвестно</quote
> присваивается лицам, имя которых ещё не было указано. </para>

        <para
>Для задачи, о которой идёт речь, необходимо установить флажок <guilabel
>Определять лица</guilabel
>. Так как функция определения лиц является трудоёмкой задачей, рекомендуется <emphasis
>не нажимать</emphasis
> сразу же кнопку <guilabel
>Сканировать</guilabel
>, сначала нажмите кнопку <guilabel
>Параметры</guilabel
>. Появится дополнительная область с тремя вкладками. Вкладка <guilabel
>Альбомы</guilabel
> позволит ограничить сканирование определёнными альбомами или метками. Параметры предоставляют возможность найти баланс между скоростью и точностью, которая соответствует потребностям пользователя. В разделе <guilabel
>Дополнительно</guilabel
> находятся два флажка. Значение первого описано над ним. Второй — для использования функции распознавания лиц, речь об этом пойдёт далее. </para>

        <para
>Выбрав нужные параметры, нажмите кнопку <guilabel
>Распознать лица</guilabel
>, и через некоторое время, в зависимости от объёма выбранных параметров, результат будет представлен в области изображения. В списке меток на левой боковой панели будет отображаться ветка «Люди» в дереве меток. Все результаты сканирования будут отображены только если выбрана самая верхняя метка «Люди». В дереве также появится новая метка под названием «Неизвестно», отображающая изображения с распознанными лицами, ещё не связанными с конкретным человеком. Если было произведено первое сканирование, эта метка будет присвоена всем изображениям, на которых были распознаны лица. </para>

        <para>
            <example>
                <title
>Результат определения лиц</title>
                <mediaobject>
                    <imageobject
><imagedata fileref="&path;using-mainwindow-facedetection.png" format="PNG"/></imageobject>
                </mediaobject>
            </example>
        </para>

        <para
>Обратите внимание, что отображающиеся здесь миниатюры не демонстрируют целое изображение. Миниатюры отображают только область изображения, где сканирующий алгоритм установил <firstterm
>Метку лица</firstterm
>. Это можно понять, нажав на миниатюру. В области предварительного просмотра откроется целое изображение со всеми метками лица. Если меток не видно, нажмите на кнопку <inlinemediaobject
> <imageobject
><imagedata fileref="&path;using-mainwindow-icon-showfacetags.png" format="PNG"/></imageobject
> </inlinemediaobject
> в верхнем левом углу изображения. Если меток больше одной, миниатюр тоже будет больше. На снимке экрана это показывают две первых миниатюры вверху. </para>

        <para>
            <mediaobject>
                <imageobject
><imagedata fileref="&path;using-mainwindow-facedetectiontag.png" format="PNG"/></imageobject>
            </mediaobject>
        </para>

        <para
>Этот снимок экрана был выбран потому, что он иллюстрирует одну важную проблему: алгоритм неизбежно найдёт детали на изображении, которые напоминают лицо, но на самом деле являются чем-то другим. Вот для чего нужна кнопка <guilabel
>Удалить</guilabel
>. Она удалит метку лица с фотографии, и если это единственная метка лица (слева), то фотография исчезнет из результата сканирования. </para>

        <para
>Если метка лица присвоена правильно, далее потребуется отредактировать поле «Кто это?». Здесь возможно либо создать новую метку с именем, либо выбрать одну из уже существующих меток с помощью раскрывающегося списка. Чтобы сохранить изменения в базе данных, нажмите кнопку <guilabel
>Применить</guilabel
>. Если это была единственная метка, изображение переместится из категории «Неизвестно» в категорию «Люди», либо в категорию, назначенную для этих меток. </para>

        <para
>В контекстном меню изображения предварительного просмотра есть ещё две опции, имеющие отношение к меткам лица: <guilabel
>Присвоить метку лица</guilabel
> и <guilabel
>Удалить все метки лиц с этого снимка</guilabel
>. </para>

    </sect3>

    <sect3
> <title
>Распознавание лиц</title>

        <para
>Присваивание меток лиц является важной предпосылкой для распознавания лиц. Это очевидно, что &digikam; может распознавать только те лица, которые ему есть, с чем сравнить. Так что пользователь сам должен указать &digikam;, кто есть кто на фотографии. Чтобы сделать это, после первичного сканирования лиц, как было описано выше, перейдите к метке «Неизвестно» на левой боковой панели, нажмите на миниатюру и, если нужно, нажмите кнопку <inlinemediaobject
> <imageobject
><imagedata fileref="&path;using-mainwindow-icon-showfacetags.png" format="PNG"/></imageobject
> </inlinemediaobject
> (Показать метки лиц). Теперь на фотографии должны отобразиться метки лиц, включая и те, что уже были присвоены. На фотографиях с меткой «Неизвестно» также появится поле и две кнопки, как на снимке экрана предыдущей статьи. В поле с надписью «Кто это?» возможно либо ввести имя существующей метки лица из дерева меток, либо воспользоваться раскрывающейся функцией, чтобы показать дерево меток и выбрать нужную. Чтобы сохранить выбор в базе данных, нажмите кнопку <guilabel
>Подтвердить</guilabel
>. </para>

        <note>
            <para
>При использовании опции <guilabel
>Присвоить метку</guilabel
> вместо описанного выше алгоритма метка лиц <emphasis
>не</emphasis
> будет присвоена. Эта опция назначит обычную метку, которая будет присвоена всему изображению. </para>
        </note>

        <para
>Если метка лица подтверждена, кнопки для её удаления, редактирования или подтверждения показаны не будут, останется только сама метка. Если эти кнопки нужны, например, потому что метка присвоена неправильно, и её нужно отредактировать или удалить, просто дважды щёлкните левой кнопкой мыши по названию метки, и эти кнопки появятся снова. </para>

        <para
>После присвоения метки нескольким фотографиям возможно выполнить поиск по другим фотографиям с тем же лицом. Чтобы это сделать, снова нажмите на кнопку <guilabel
>Найти лица в коллекции</guilabel
>, но на этот раз выберите вариант <guilabel
>Распознать лица</guilabel
>. </para>

        <note>
            <para
>Чтобы &digikam; смог автоматически распознать новое лицо, перед этим нужно присвоить одну и ту же метку лица как минимум четырём разным фотографиям с использованием ручного рабочего процесса управления лицами. </para>
        </note>

        <para
>Распознавание лиц происходит быстрее, чем определение лиц, однако есть смысл открыть <guilabel
>Параметры</guilabel
> и ограничить сканирование до конкретных альбомов или меток на вкладке <guilabel
>Альбомы</guilabel
>, например до метки «Неизвестно». На вкладке <guilabel
>Параметры</guilabel
> возможно поэкспериментировать с балансом между скоростью и точностью. Вкладка <guilabel
>Дополнительно</guilabel
> даёт возможность установить флажки на двух опциях. Описание первой расположено над ней. </para>

        <para
>Если результаты неудовлетворительны, воспользуйтесь функцией <guilabel
>Очистить и повторно создать данные режима обучения</guilabel
>. Одна из причин для использования — это большое количество меток лица, присвоенных человеку на фотографиях, которые не помогают алгоритму его распознать, например, в очках, размытым, в необычной цветовой гамме, карнавальном костюме и тому подобное... Другая возможная причина — ложное распознавание лиц из-за неправильной настройки точности на вкладке <guilabel
>Параметры</guilabel
>. </para>

        <para
>Чтобы начать процесс распознавания лиц, нажмите кнопку <guilabel
>Сканировать</guilabel
>. Процесс присвоит соответствующую метку каждому распознанному лицу, и миниатюры таких изображений исчезнут из списка «Неизвестно». </para>

    </sect3>

</sect2>

<!--
Local Variables:
mode: sgml
sgml-omittag: nil
sgml-shorttag: t
End:
-->
