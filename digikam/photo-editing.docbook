 <sect1 id="photographic-editing">          <title>Photographic Editing - Workflow</title>

   <sect2 id="image-editing-tools">             <title>Image Editing/Workflow Tools</title>
    <sect3 id="standard-workflow">              <title>A Standard Workflow Proposal</title>
      <para>When performing a basic workflow, the primary areas for consideration are:
        <orderedlist>
          <listitem><para>Exposure: <link linkend="whitebalance">White Balance</link></para></listitem>
          <listitem><para>Color: <link linkend="whitebalance">White Balance</link></para></listitem>
          <listitem><para>Black and white points: <link linkend="whitebalance">White Balance</link> or <link linkend="adjustlevels">Adjust Levels</link></para></listitem>
          <listitem><para>Contrast: <link linkend="adjustcurves">Adjust Curves</link></para></listitem>
          <listitem><para>Saturation: <link linkend="whitebalance">White Balance</link> or <link linkend="coloreffects">Vivid</link> or <link linkend="using-correctingcolor">Hue/Saturation/Lightness</link></para></listitem>
          <listitem><para>Resizing (interpolation) : <link linkend="resize">Change Size</link></para></listitem>
          <listitem><para><link linkend="sharpening">Sharpening</link></para></listitem>
          <listitem><para><ulink url="help:/digikam/inedex.html#dam">Digital Asset Management</ulink> (applying tags, captions, rating, geolocation, save under new name)</para></listitem>
        </orderedlist>
        We recommend this sequence of image editing steps to ensure optimum photographic quality for the end product. In particular, never do sharpening before the last step. And we recommend using a lossless format like PNG or TIFF for storing photographs. Otherwise you'll lose a bit every time you save the results. If you can afford it, use 16 bit/channel for your best shots. If you want to change color space, in particular if you want to work in CIEL*a*b, 16 bit per channel are required to avoid truncation effects.
        </para>
        <para>If you swap step 4 and 5, which is well possible if the initial contrast is already very good, you can do the first 4 adjustment in the same plugin, the white balance</para>
        <para>Many of the tools you may need for photographic editing are included with &digikam;. Their description follows here. </para>
    </sect3>

    <sect3>      <title>Introduction to common editing tools features</title>
      <para>
         All Image Editor tools like Sharpen, Blur, Noise Reduction, Refocus, Unsharp Mask, &etc;. use a common dialog style that previews the effect before applying the filter to the current image. Below you see the &quot;Apply Texture&quot; tool in action using this common dialog layout:
      </para>

      <example>
        <title>The Apply Texture Tool in Action</title>
        <screenshot>
          <screeninfo>The Apply Texture Tool in Action</screeninfo>
          <mediaobject>
            <imageobject>
              <imagedata fileref="&path;editorcommondialogtools.png" format="PNG" />
            </imageobject>
          </mediaobject>
        </screenshot>
      </example>

      <para>
        <itemizedlist>
          <listitem>
            <para>
              <emphasis>(1)</emphasis>: The seven buttons to the top left select the comparison style of the preview area. The modes are:
              <itemizedlist>
                <listitem>         <para>Original image</para>             </listitem>
                <listitem>
                  <para>Split vertically without duplication. The left area shows the original whereas the right side shows the filter applied to the continuation of the selected zoom.</para>
                </listitem>
                <listitem>
                  <para>Split horizontally without duplication. The top area shows the original whereas the lower area shows the filter applied to the continuation of the selected zoom.</para>
                </listitem>
                <listitem>
                  <para>Split vertically. The left area shows the original and the right one the filter effect for comparison.</para>
                </listitem>
                <listitem>
                  <para>Split horizontally. The top area shows the original and the lower one the filter effect for comparison.</para>
                </listitem>
                <listitem>
                  <para>Effect preview. This is a live effect preview without comparison.</para>
                </listitem>
                <listitem>
                  <para>'Mouse over' style: preview when mouse is off the preview (in the settings area), otherwise shows original.</para>
                </listitem>
              </itemizedlist>
            </para>
          </listitem>
          <listitem>
            <para><emphasis>(2)</emphasis>: There are two buttons that can be toggled to show over or underexposure. The colors can be customized in the <link linkend="setupdialog.anchor">general setup page</link>.</para>
          </listitem>
          <listitem>
            <para><emphasis>(3)</emphasis>: The preview selector frame. Click and drag with the mouse on the floating frame to move it on the image. The preview area on the left of dialog is updated accordingly.</para>
          </listitem>
          <listitem>
            <para>   <emphasis>(4)</emphasis>: The filter or plugin settings area.</para>
          </listitem>
          <listitem>
            <para>
              <emphasis>(5)</emphasis>: At the lower left corner: there is help and a reset to defaults button (all settings are remembered from the last use of the plugin).</para>
          </listitem>
          <listitem>
            <para>
              <emphasis>(6)</emphasis>: There is a progress indicator for plugins with involved calculations.</para>
          </listitem>
        </itemizedlist>

      </para>
    </sect3>

    <sect3>      <title>The &digikam; tool set</title>
     <itemizedlist>

   <listitem><para>Image Color
      <itemizedlist>
      <listitem><para><link linkend="auto-correction">Auto Correction</link></para></listitem>
      <listitem><para><link linkend="exposure-correct">Brightness/Contrast/Gamma</link></para></listitem>
      <listitem><para><link linkend="using-correctingcolor">Hue/Saturation/Lightness</link></para></listitem>
      <listitem><para><link linkend="colorbalancetool.anchor">Color Balance</link></para></listitem>
      <listitem><para><link linkend="blackandwhite-conversion">Black and White</link></para></listitem>
      <listitem><para><link linkend="encoding-depth">Encoding Depth</link></para></listitem>
      <listitem><para><link linkend="color-management">Color Management</link></para></listitem>
      <listitem><para><link linkend="adjustlevels">Levels Adjust</link></para></listitem>
      <listitem><para><link linkend="coloreffects">Color Effects (Solarize, Vivid, Neon, Edge)</link></para></listitem>
      <listitem><para><link linkend="whitebalance">White Balance/Exposure/Saturation</link></para></listitem>
      <listitem><para><link linkend="adjustcurves">Curves Adjust</link></para></listitem>
      <listitem><para><link linkend="channelmixer">Channel Mixer</link></para></listitem>
      </itemizedlist>
   </para></listitem>

   <listitem><para>Image Enhancement
      <itemizedlist>
      <listitem><para><link linkend="sharpening">Sharpening (sharpen, unsharp mask, refocus)</link></para></listitem>
      <listitem><para><link linkend="using-blurfilter" >Blur Tool</link></para></listitem>
      <listitem><para><link linkend="using-redeyecorrection">Red Eye Removal</link></para></listitem>
      <listitem><para><link linkend="inpainting">Photograph Inpainting</link></para></listitem>
      <listitem><para><link linkend="noisereduction">Noise Reduction &amp; blurring</link></para></listitem>
      <listitem><para><link linkend="hotpixels">Hot Pixel Correction</link></para></listitem>
      <listitem><para><link linkend="lensdistortion">Lens Distortion Correction</link></para></listitem>
      <listitem><para><link linkend="restoration">Photograph Restoration</link></para></listitem>
      <listitem><para><link linkend="antivignetting">Anti-Vignetting Correction</link></para></listitem>
      </itemizedlist>
   </para></listitem>

   <listitem><para>Image Transformation Tools
      <itemizedlist>
      <listitem><para><link linkend="resize">Change Size (reduce and blow-up)</link></para></listitem>
      <listitem><para><link linkend="freerotation">Free Rotation</link></para></listitem>
      <listitem><para><link linkend="perspective">Perspective Adjustment</link></para></listitem>
      <listitem><para><link linkend="sheartool">Shearing Tool</link></para></listitem>
      </itemizedlist>
   </para></listitem>

   <listitem><para>Image Decoration
      <itemizedlist>
      <listitem><para><link linkend="border">Add Border</link></para></listitem>
      <listitem><para><link linkend="inserttext">Insert Text</link></para></listitem>
      <listitem><para><link linkend="superimpose">Template Superimpose</link></para></listitem>
      <listitem><para><link linkend="texture">Apply Texture</link></para></listitem>
      </itemizedlist>
   </para></listitem>

   <listitem><para>Special Effect Filters
      <itemizedlist>
      <listitem><para><link linkend="infrared">Simulate Infrared Film.</link></para></listitem>
      <listitem><para><link linkend="filmgrain">Add Film Grain.</link></para></listitem>
      <listitem><para><link linkend="oilpaint">Simulate Oil Painting</link></para></listitem>
      <listitem><para><link linkend="charcoal">Simulate Charcoal Drawing.</link></para></listitem>
      <listitem><para><link linkend="emboss">Emboss Photograph.</link></para></listitem>
      <listitem><para><link linkend="distortionfx">Distortion FX.</link></para></listitem>
      <listitem><para><link linkend="blurfx">Blur FX.</link></para></listitem>
      <listitem><para><link linkend="raindrops">Add Rain Drops</link></para></listitem>
      </itemizedlist>
   </para></listitem>

   </itemizedlist>
     </sect3>

   </sect2>

            <sect2 id="raw-workflow">  <title>Processing RAW image files, RAW work-flow</title>
            <anchor id="rawprocessing.anchor"/>

             <para>A typical RAW workflow with &digikam; may follow these steps:</para>
             <itemizedlist>
               <listitem><para>Setting up the RAW conversion and color management preferences
                 <itemizedlist>
                  <listitem><para>get the ICC color profiles for the camera, display and printer</para></listitem>
                  <listitem><para>setup &digikam; correctly defining a color work space </para></listitem>
                 </itemizedlist>
               </para></listitem>
               <listitem><para>Camera whitepoint setting</para></listitem>
               <listitem><para>Demosaicing (includes interpolation, noise filtering and
                  <ulink url="help:/digikam/using-setup.html#CA.anchor">chromatic abberation correction.</ulink>
                  </para></listitem>
               <listitem><para>Conversion to a color space</para> </listitem>
               <listitem><para>Gamma correction, tone mapping</para> </listitem>
               <listitem><para>Color profile assignment</para> </listitem>
               <listitem><para>Dynamic range expansion (optional)</para></listitem>
               <listitem><para>Continue with <link linkend="standard-workflow">standard workflow</link></para></listitem>
             </itemizedlist>

             <para>
               From there everything is simple, select a RAW image and open it in the editor. The color management widget will be displayed after the image has been processed in order to adjust color rendering. Without color management all images are very dark, this is normal. You can experiment the various profiles you have in order to select the best input profile according to your image (some tends to be very neutral, even a bit dull, some gives more saturated results, &etc;).
             </para>
            </sect2>


      &doc-editor-color;

      &doc-editor-enhance;

      &doc-editor-transform;

      &doc-editor-decorate;

      &doc-editor-filters;

  </sect1>

  <sect1 id="using-iccprofile">     <title>ICC color profile management</title>

            <para>
                What is the importance of ICC color profile management anyway? In simple terms it is alike hi-fi stereo, where high fidelity is maximized from source to speakers, passing through microphone, recoding media, player and amplifier. Much the same, ICC color profile management tries to maintain color fidelity from photographic subject through the camera to the output media screen, print, paper and beamer. Luckily digital photography has taken out one source of distortion, the storage media (as the &CD-ROM; did in the audio field).
            </para>

            <para>The figure below images the problem: Every time there is a transfer from one device to another, an ICC profile is used to compensate for the inaccuracies or limitations of the device. The central work space (which is called Profile Connection Space, PCS) provides a common platform to translate the device color spaces into each other.
            </para>

            <para>The inter-connection between devices and their color spaces</para>
            <para>
                <inlinemediaobject><imageobject><imagedata
                fileref="&path;colormanagement.png" format="PNG" /> </imageobject></inlinemediaobject>
            </para>


            <tip>
                <para><emphasis>CM Pros.</emphasis> CM is really important whenever you need identical results between shooting sessions, accurate source reproduction, close rendering results between various display media (this would rather point CM to professionals).</para>
                <para>As a passionate amateur you can also profit from CM, since it is mostly associated with 16 bit color depth. RAW mode shooting is much more forgiving in terms of exposure than processed shooting (JPEG), so you can generally underexpose and recover the highlights. And, the human eye is much more sensitive to luminosity variations in the dark scales than a digital camera. Careful tonal adjustment close to the blacks will produce a better dynamic of the image. That is why RAW mode images often have an appearance of more depth to them.</para>

                <para><emphasis>CM Cons.</emphasis> If you do not use color management you still can realize fantastic images. In journalism or emotional contexts, for holiday photos you do not need any color management.</para>
            </tip>

            <para>To configure &digikam; for ICC color management, please refer to the <ulink url="help:/digikam/using-setup.html#setup-iccprofiles">setup section.</ulink>
            </para>

            <para>
                The ICC standard covers a data format to exchange color information of devices. ISO 22028-1 specifies unambiguous exchange of color image data of color space encoding, viewing conditions, image state and reference medium. Here follows an example of the differences in color language: one kind of green defined (by the same numbers) in one color space looks different in another color space. This is what happens when no color management is applied.
            </para>
            <para>
              (88, 249, 16) in Adobe RGB <inlinemediaobject><imageobject><imagedata fileref="&path;2Greens.png" format="PNG"/></imageobject></inlinemediaobject> The same RGB value in sRGB. Here is a <ulink url="http://www.cs.rit.edu/~ncs/color/a_spaces.html">link</ulink> where you can play with color spaces.
            </para>

            <para>
                Photographers want to use the full gamut of their camera and their ink jet printers. Editing of images should be done in a work space, where equal RGB-numbers result into gray (like #333 or #CCC).
            </para>

            <para>
                    The following diagram tries to outline the logic &digikam; will follow in its CM work flow, depending on the settings made in <emphasis>IO Files</emphasis> and <emphasis>ICC profiles</emphasis> of the configuration page.
            </para>

           <para>
              <inlinemediaobject><imageobject>
                <imagedata fileref="&path;ICCworkflowlogic.png" format="PNG" />
              </imageobject></inlinemediaobject>
           </para>


            <sect2 id="softproofing">
            <title>Soft Proofing</title>
                <para> Soft Proofing is a way of previewing on the screen (monitor) the result to be expected from an output on another device, typically a printer. Soft proofing will show you the difference to be expected before you actually do it (and waste your costly ink). So you can improve your settings without wasting time and money.
                </para>

            </sect2>

            <sect2 id="rendering-intention">
            <title>Rendering intention</title>

                <para>Rendering intent refers to the way gamuts are handled when the intended target color space cannot handle the full gamut.</para>
                <itemizedlist>

                    <listitem><para><emphasis>Perceptual</emphasis>, also called Image or Maintain Full Gamut.  This is generally recommended for photographic images. The color gamut is expanded or compressed when moving between color spaces to maintain consistent overall appearance. Low saturation colors are changed very little. More saturated colors within the gamuts of both spaces may be altered to differentiate them from saturated colors outside the smaller gamut space. Perceptual rendering applies the same gamut compression to all images, even when the image contains no significant out-of-gamut colors.</para>
                    </listitem>

                    <listitem><para><emphasis>Relative Colorimetric</emphasis>, also called Proof or Preserve Identical Color and White Point.  Reproduces in-gamut colors exactly and clips out-of-gamut colors to the nearest reproducible hue.</para>
                    </listitem>

                    <listitem><para><emphasis>Absolute Colorimetric</emphasis>, also called Match or Preserve Identical Colors.  Reproduces in-gamut colors exactly and clips out-of-gamut colors to the nearest reproducible hue, sacrificing saturation and possibly lightness. On tinted papers, whites may be darkened to keep the hue identical to the original. For example, cyan may be added to the white of a cream-colored paper, effectively darkening the image. Rarely of interest to photographers.</para>
                    </listitem>

                    <listitem><para><emphasis>Saturation</emphasis>, also called Graphic or Preserve Saturation.  Maps the saturated primary colors in the source to saturated primary colors in the destination, neglecting differences in hue, saturation, or lightness. For block graphics; rarely of interest to photographers.</para>
                    </listitem>

                </itemizedlist>

           </sect2>

           <sect2 id="iccprofile-links">
            <title>Links</title>
               <para><ulink url="http://www.oyranos.org/wiki/index.php?title=Main_Page">Color wiki</ulink> <ulink url="http://en.wikipedia.org/wiki/CIELAB">CIELab</ulink> <ulink url="http://en.wikipedia.org/wiki/Gamut">Gamut explained</ulink></para>
           </sect2>

        </sect1>

